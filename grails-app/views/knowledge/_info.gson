import hm.Application
import hm.Knowledge

model{
    Knowledge knowledge
}

json g.render(knowledge,[excludes: ['content']]){
    if(!knowledge.saved){
        publishedAt '未发布'
        modifiedAt '未发布'
    }
    if(knowledge.saved){
        publishedAtString Application.timeFormat.format(knowledge.publishedAt)
        modifiedAtString Application.timeFormat.format(knowledge.modifiedAt)
    }
    //先加上，以后考虑留不留
    files(knowledge.content?.files)
    content(knowledge.content?.text)
}